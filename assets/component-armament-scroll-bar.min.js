(()=>{var t={845:t=>{self,t.exports=(()=>{"use strict";var t={};return((t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isArmadaLoaded=void 0,e.isArmadaLoaded=t=>{var e,s;const a=!0===(null===(s=null===(e=window.eight)||void 0===e?void 0:e.armada)||void 0===s?void 0:s.loaded);if(!t)return a;a?t():document.addEventListener("ARMADA:LOADED",t)},e.default=e.isArmadaLoaded})(0,t),t})()}},e={};function s(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,s),i.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=s(845);class e extends HTMLElement{constructor(){super(),this.count=1,this.dragThreshold=20;["touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler"].forEach((t=>{this[t]=this[t].bind(this)}))}get indicator(){return this.dataset.indicator?this.dataset.indicator:"full"}get itemCount(){return this.dataset.itemCount?Number(this.dataset.itemCount):1}get initialWidth(){return 100/this.itemCount}get paused(){return"true"===this.dataset?.paused}get pausedForward(){return"true"===this.dataset?.pausedForward}get loopForward(){return"true"===this.dataset?.loopForward}get loopBackward(){return"true"===this.dataset?.loopBackward}connectedCallback(){this.rangeIndicator=this.querySelector(".scroll-range"),this.parent=this.closest(`${this.dataset.parent}`),this.dataset.target=this.dataset.target?this.dataset.target:"scrollbar-target",this.dataset.navLeft=this.dataset.navLeft?this.dataset.navLeft:"icon-prev",this.dataset.navRight=this.dataset.navRight?this.dataset.navRight:"icon-next",this.parent?(this.target=this.parent.querySelector(`[data-name="${this.dataset.target}"]`),this.navLeft=this.parent.querySelector(`[data-name="${this.dataset.navLeft}"]`),this.navRight=this.parent.querySelector(`[data-name="${this.dataset.navRight}"]`),this.target?(this.setIndicatorWidth(),(0,t.isArmadaLoaded)(this.setEventListeners.bind(this))):console.warn("Could not find scrollbar target",this.dataset.target,"in",this.parent)):console.warn("Could not find scrollbar parent",this.parent)}setEventListeners(){this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.target.addEventListener("mousedown",this.mousedownHandler),this.target.addEventListener("mouseup",this.mouseupHandler),this.target.addEventListener("mouseleave",this.mouseleaveHandler),this.target.addEventListener("mousemove",this.mousemoveHandler),this.target.addEventListener("touchstart",this.touchstartHandler,{passive:!0}),this.target.addEventListener("touchend",this.touchendHandler,{passive:!0}),this.target.addEventListener("touchmove",this.touchmoveHandler,{passive:!0}),this.navLeft&&this.navLeft.addEventListener("click",this.decreaseProgress.bind(this)),this.navRight&&this.navRight.addEventListener("click",this.increaseProgress.bind(this)),window.eight.armada.elementRegistry.register({key:"scroll-bar",assetPath:"/assets/component-armament-scroll-bar.min.js"})}setIndicatorWidth(){this.rangeIndicator.style.width=this.initialWidth+"%"}clearDrag(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}updateAfterDrag(){const t=1*(this.drag.endX-this.drag.startX),e=Math.abs(t);t>0&&e>this.dragThreshold?this.decreaseProgress():t<0&&e>this.dragThreshold&&this.increaseProgress()}mousedownHandler(t){if(this.paused)return;-1!==["OPTION","INPUT","SELECT","BUTTON","MODEL-VIEWER"].indexOf(t.target.nodeName)||(t.preventDefault(),t.stopPropagation(),this.pointerDown=!0,this.drag.startX=t.pageX)}mouseupHandler(t){this.paused||(t.stopPropagation(),this.pointerDown=!1,this.drag.endX&&this.updateAfterDrag(),this.clearDrag())}mouseleaveHandler(t){this.paused||this.pointerDown&&(this.pointerDown=!1,this.drag.endX=t.pageX,this.drag.preventClick=!1,this.updateAfterDrag(),this.clearDrag())}mousemoveHandler(t){if(this.paused)return;-1!==["OPTION","INPUT","SELECT","BUTTON","MODEL-VIEWER"].indexOf(t.target.nodeName)||(t.preventDefault(),this.pointerDown&&("A"===t.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=t.pageX))}touchstartHandler(t){if(this.paused)return;-1!==["OPTION","INPUT","SELECT","BUTTON","MODEL-VIEWER"].indexOf(t.target.nodeName)||(this.pointerDown=!0,this.drag.startX=t.touches[0].pageX,this.drag.startY=t.touches[0].pageY)}touchendHandler(t){this.paused||(this.pointerDown=!1,this.drag.endX&&this.updateAfterDrag(),this.clearDrag())}touchmoveHandler(t){this.paused||(null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-t.touches[0].pageY)<Math.abs(this.drag.startX-t.touches[0].pageX)),this.pointerDown&&this.drag.letItGo&&(this.drag.endX=t.touches[0].pageX))}increaseProgress(){if(!this.pausedForward)if(this.count<=this.itemCount-1){this.count+=1;let t=this.initialWidth*this.count;"progress"===this.indicator?(t=this.initialWidth*(this.count-1),this.rangeIndicator.style.left=t+"%"):this.rangeIndicator.style.width=t+"%"}else this.resetScrollbar()}decreaseProgress(){if(this.count>=2){this.count-=1;let t=this.initialWidth*this.count;"progress"===this.indicator?(t=this.initialWidth*(this.count-1),this.rangeIndicator.style.left=t+"%"):this.rangeIndicator.style.width=t+"%"}else this.scrollToEnd()}resetScrollbar(){this.loopForward&&(this.count=1,"progress"===this.indicator?this.rangeIndicator.style.left="0":this.rangeIndicator.style.width="0")}scrollToEnd(){if(this.loopBackward)if(this.count=this.itemCount,"progress"===this.indicator){let t=this.initialWidth*(this.count-1);this.rangeIndicator.style.left=t+"%"}else this.rangeIndicator.style.width="100%"}}customElements.define("scroll-bar",e)})()})();