(()=>{var e={273:e=>{self,e.exports=(()=>{"use strict";var e={};return((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=(e,t,i)=>{let a;return function(){let r=this,s=arguments;const n=()=>{a=null,i||e.apply(r,s)};i&&!a&&e.apply(r,s),clearTimeout(a),a=setTimeout(n,t)}},t.default=t.debounce})(0,e),e})()},845:e=>{self,e.exports=(()=>{"use strict";var e={};return((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArmadaLoaded=void 0,t.isArmadaLoaded=e=>{var t,i;const a=!0===(null===(i=null===(t=window.eight)||void 0===t?void 0:t.armada)||void 0===i?void 0:i.loaded);if(!e)return a;a?e():document.addEventListener("ARMADA:LOADED",e)},t.default=t.isArmadaLoaded})(0,e),e})()}},t={};function i(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=i(273),t=i(845);class a extends HTMLElement{constructor(){super(),this.cartSummaryWrapper&&this.stickySummary&&this.stickySummaryMobile&&this.emptyEl&&(this.loaded=!1,this.init=this.init.bind(this),this.handleStickySummary=this.handleStickySummary.bind(this),this.handleResize=this.handleResize.bind(this),this.handleSectionFetch=this.handleSectionFetch.bind(this))}connectedCallback(){(0,t.isArmadaLoaded)(this.handleLoaded.bind(this))}handleLoaded(){const t=(0,e.debounce)(this.handleResize,250);window.addEventListener("resize",t),document.addEventListener("ARMADA:CART:COUNT:CHANGE",(()=>this.init())),document.addEventListener("ARMADA:SECTION:FETCH",(e=>this.handleSectionFetch(e.detail))),this.init(),window.eight.armada.elementRegistry.register({key:"component-cart-summary",assetPath:"/assets/component-cart-summary.min.js"})}init(){this.cartMainInner?.offsetHeight>window.innerHeight||window.Shopify.designMode?this.handleStickySummary():this.hideSticky()}async handleSectionFetch({selectors:e}){if(!e.includes('[data-armada-selector="cart-cross-sell-recommendations"]')&&!e.includes('[data-armada-selector="cart-main-section"]'))return;const t=document.querySelectorAll('[data-armada-selector="cart-main-section"] img'),i=Array.from(t).map((e=>new Promise(((t,i)=>{const a=new Image;a.addEventListener("load",(()=>t(a))),a.addEventListener("error",(e=>i(e))),a.src=e.src}))));await Promise.all(i),this.init()}handleResize(){this.stickySummary.style.width=`${this.cartSummaryWrapper.offsetWidth}px`,this.stickySummaryMobile.style.width=`${this.cartSummaryWrapper.offsetWidth}px`,this.cartMainInner?.offsetHeight<=window.innerHeight&&this.hideSticky()}handleStickySummary(){this.emptyEl&&this.emptyEl.classList.remove("hidden"),this.isMobile()||this.emptyEl&&this.emptyEl.querySelector('[data-armada-selector="regular-price-container"]').classList.add("flex");const e=this.isMobile()?document.querySelector('[data-armada-selector="cart-summary-sticky-mobile"]'):document.querySelector('[data-armada-selector="cart-summary-static-top"]');let t=e?e.offsetHeight:60;t=window.Shopify.designMode?2*t:t;const i=new IntersectionObserver(((e,t)=>{if(e[0].isIntersecting)this.hideSticky();else{if(window.pageYOffset<e[0].target.getBoundingClientRect().top)return;this.handleResize(),this.isMobile()?(this.stickySummaryMobile.style.position="fixed",this.stickySummaryMobile.style.top="0px",this.stickySummaryMobile.classList.remove("hidden")):(this.stickySummary.style.position="fixed",this.stickySummary.style.top="0px",this.stickySummary.querySelector('[data-armada-selector="regular-price-container"]').classList.add("flex"),this.stickySummary.classList.remove("hidden"))}}),{root:null,rootMargin:`-${t}px`});if(!this.loaded){if(!this.emptyEl||!this.checkoutButton)return;i.observe(this.emptyEl),i.observe(this.checkoutButton),this.loaded=!0}}hideSticky(){this.isMobile()?this.stickySummaryMobile.classList.add("hidden"):this.stickySummary.classList.add("hidden")}isMobile(){return window.matchMedia("only screen and (max-width: 768px)").matches}get checkoutButton(){return this.querySelector('[data-armada-selector="cart-summary-static-bottom"] [data-armada-selector="checkout-button"]')}get emptyEl(){return document.querySelector("[data-cart-summary-placeholder]")}get cartSummaryWrapper(){return this.parentElement}get stickySummary(){return this.querySelector('[data-armada-selector="cart-summary-sticky"]')}get stickySummaryMobile(){return this.querySelector('[data-armada-selector="cart-summary-sticky-mobile"]')}get lineItemsWrapper(){return document.querySelector('[data-armada-selector="cart-line-items-wrapper"]')}get cartMainSection(){return document.querySelector('[data-armada-selector="cart-main-section"]')}get cartMainInner(){return document.querySelector('[data-armada-selector="cart-main-inner"]')}}customElements.define("cart-summary",a)})()})();