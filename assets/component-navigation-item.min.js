(()=>{var e={845:e=>{self,e.exports=(()=>{"use strict";var e={};return((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArmadaLoaded=void 0,t.isArmadaLoaded=e=>{var t,i;const a=!0===(null===(i=null===(t=window.eight)||void 0===t?void 0:t.armada)||void 0===i?void 0:i.loaded);if(!e)return a;a?e():document.addEventListener("ARMADA:LOADED",e)},t.default=t.isArmadaLoaded})(0,e),e})()}},t={};function i(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=i(845);class t extends HTMLElement{constructor(){super(),this.detailsElement=this.querySelector('[data-armada-selector="navigation-item-details"]'),this.summaryElement=this.querySelector('[data-armada-selector="navigation-item-summary"]'),this.navItems=this.querySelectorAll('[data-armada-selector="navigation-item-link"]'),this.dropdown=this.querySelector('[data-armada-selector="navigation-item-dropdown"]'),this.visualNav=this.querySelector('[data-armada-selector="navigation-item-visual"]'),this.forceOpenDropdown=!1,this.templateContent=this.querySelector("template").content,this.templateDrawer=this.templateContent.querySelector('[data-armada-selector="navigation-item-drawer"]'),this.mouseMoveHandler=this.mouseMoveHandler.bind(this),this.currX=0,this.currY=0,this.prevX=0,this.prevY=0,this.interval=100,this.sensitivity=5,(0,e.isArmadaLoaded)(this.init.bind(this))}init(){this.attachEvents(),this.setDropdownHeight(),this.buildDrawer(),this.setAriaAttributes()}attachEvents(){window.addEventListener("resize",this.setAriaAttributes.bind(this)),document.addEventListener("ARMADA:NAVIGATION:DROPDOWN:CLOSE",this.closeNavDropdown.bind(this)),document.addEventListener("ARMADA:NAVIGATION:MOBILE:CLOSE",this.closeAllDrawers.bind(this)),this.summaryElement.addEventListener("mouseenter",this.mouseEnterHandler.bind(this)),this.summaryElement.addEventListener("mouseleave",this.mouseLeaveHandler.bind(this)),this.summaryElement.addEventListener("focus",this.mouseEnterHandler.bind(this)),this.addEventListener("mousemove",this.mouseMoveHandler),window.Shopify.designMode&&(document.addEventListener("shopify:block:select",this.blockSelectHandler.bind(this)),document.addEventListener("shopify:block:deselect",this.blockDeselectHandler.bind(this)))}openDropdown(){window.eight.eventsEngine.emit(`${eight.constants.events["ARMADA:NAVIGATION:DROPDOWN:CLOSE"]}`),this.openNavDropdown()}mouseEnterHandler(e){this.prevX=e.pageX,this.prevY=e.pageY,this.detailsElement.hasAttribute("open")||(this.pollTimer=setTimeout((()=>{this.mouseCompare()}),this.interval))}mouseCompare(){const e=this.prevX-this.currX,t=this.prevY-this.currY;Math.sqrt(e*e+t*t)<this.sensitivity?this.openDropdown():(this.prevX=this.currX,this.prevY=this.currY,this.pollTimer=setTimeout((()=>{this.mouseCompare()}),this.interval))}mouseMoveHandler(e){this.currX=e.pageX,this.currY=e.pageY,this.detailsElement.hasAttribute("open")}mouseLeaveHandler(e){clearTimeout(this.pollTimer)}openNavDropdown(){this.detailsElement.hasAttribute("open")||(window.Shopify.designMode&&this.themeEditorHideBlocks(),this.detailsElement.open=!0,this.summaryElement.classList.remove("lg:after:scale-x-0"))}closeNavDropdown(){this.forceOpenDropdown||(window.Shopify.designMode&&this.themeEditorShowBlocks(),this.detailsElement.open=!1,this.summaryElement.classList.add("lg:after:scale-x-0"),this.resetAnimation(this.dropdown))}setDropdownHeight(){const e=this.closest("header");e&&document.documentElement.style.setProperty("--header-bottom-position",`${e.getBoundingClientRect().bottom}px`)}themeEditorHideBlocks(){document.querySelectorAll('[data-editor-open="true"]').forEach((e=>{e!==this&&(e.detailsElement.open=!1)}))}themeEditorShowBlocks(){document.querySelectorAll('[data-editor-open="true"]').forEach((e=>{e.detailsElement.open=!0}))}buildDrawer(){const e=this.templateDrawer.cloneNode(!0);if(this.visualNav){const t=this.visualNav.cloneNode(!0);e.appendChild(t)}else this.navItems.forEach((t=>{const i=t.cloneNode(!0);this.buildNestedDrawer(i),e.appendChild(i)}));this.setDrawerId(e,this.summaryElement),this.attachDrawerEvents(e,this.summaryElement),this.appendChild(e)}buildNestedDrawer(e){if("true"!==e.dataset.hasChildLinks)return;const t=this.templateDrawer.cloneNode(!0),i=e.querySelector('[data-armada-selector="navigation-item-children"]');e.querySelectorAll('[data-armada-selector="navigation-item-child-link"]').forEach((e=>{this.buildNestedDrawer(e)}));const a=e.querySelector('[data-armada-selector="navigation-item-parent"]');this.setDrawerId(t,a),this.attachDrawerEvents(t,a),t.appendChild(i),e.appendChild(t)}setDrawerId(e,t){const i=t.dataset.name;e.querySelector('[data-armada-selector="navigation-item-close"]').textContent=i,e.setAttribute("id",`navigation-item-drawer--${i}`)}attachDrawerEvents(e,t){t.addEventListener("click",(i=>{this.isMobile()&&(i.preventDefault(),e.classList.remove("translate-x-full","invisible"),t.setAttribute("aria-expanded","true"))}));e.querySelector('[data-armada-selector="navigation-item-close"]').addEventListener("click",(()=>{e.classList.add("translate-x-full","invisible"),t.setAttribute("aria-expanded","false")}))}setAriaAttributes(){this.querySelectorAll('[data-armada-selector="navigation-item-summary"], [data-armada-selector="navigation-item-parent"]').forEach((e=>{const t={role:"button","aria-expanded":"false","aria-controls":`navigation-item-drawer--${e.dataset.name}`};if(this.isMobile())for(let i in t)e.setAttribute(i,t[i]);else for(let i in t)e.removeAttribute(i)}))}closeAllDrawers(){this.querySelectorAll('[data-armada-selector="navigation-item-drawer"]').forEach((e=>{e.classList.add("translate-x-full","invisible")}));this.querySelectorAll('[data-armada-selector="navigation-item-summary"], [data-armada-selector="navigation-item-parent"]').forEach((e=>{e.setAttribute("aria-expanded","false")}))}resetAnimation(e){if(!e)return;e.style.animation="none",e.offsetHeight,e.style.animation=null;const t=e.firstElementChild,i=t.cloneNode(!0);t.parentNode.replaceChild(i,t)}blockSelectHandler(e){e.target==this&&(this.forceOpenDropdown=!0,this.setAttribute("data-editor-open",!0),this.openNavDropdown())}blockDeselectHandler(e){e.target==this&&(this.forceOpenDropdown=!1,this.setAttribute("data-editor-open",!1),this.closeNavDropdown())}isMobile(){return window.matchMedia("only screen and (max-width: 1023px)").matches}}customElements.define("navigation-item",t)})()})();