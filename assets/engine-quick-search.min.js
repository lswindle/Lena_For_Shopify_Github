(()=>{var e={845:e=>{self,e.exports=(()=>{"use strict";var e={};return((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArmadaLoaded=void 0,t.isArmadaLoaded=e=>{var t,s;const i=!0===(null===(s=null===(t=window.eight)||void 0===t?void 0:t.armada)||void 0===s?void 0:s.loaded);if(!e)return i;i?e():document.addEventListener("ARMADA:LOADED",e)},t.default=t.isArmadaLoaded})(0,e),e})()}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=s(845);class t extends HTMLElement{constructor(){super(),this.initialBlocks=this.querySelector('[data-armada-selector="predictive-search-blocks"]'),this.activeResults=this.querySelector('[data-armada-selector="predictive-search-results"]'),this.loadingState=this.querySelector('[data-armada-selector="results-loading"]'),this.clearSearch=this.querySelector('[data-armada-selector="clear-search"]'),this.closeIconInitial=this.querySelector(".close-icon-blocks"),this.input=this.querySelector('input[type="search"]'),this.activeResults&&(this.loadingStateHtml=this.activeResults.innerHTML);this.debouncedOnSubmit=((e,t=300)=>{let s;return(...i)=>{clearTimeout(s),s=setTimeout((()=>{e.apply(this,i)}),t)}})((e=>{this.onChange(e)}),300),(0,e.isArmadaLoaded)(this.attachEvents.bind(this))}attachEvents(){this.input&&(this.input.addEventListener("input",this.debouncedOnSubmit.bind(this)),document.addEventListener("mouseup",this.closeSearch.bind(this)),["click","keypress"].forEach((e=>{this.closeIconInitial&&this.closeIconInitial.addEventListener(e,this.close.bind(this,this.initialBlocks)),this.clearSearch&&this.clearSearch.addEventListener(e,this.handleSearchClear.bind(this))})),window.Shopify.designMode&&(document.addEventListener("shopify:section:select",this.sectionSelectHandler.bind(this)),document.addEventListener("shopify:section:deselect",this.sectionDeselectHandler.bind(this))))}sectionSelectHandler(e){e.target.contains(this)&&this.openSearch()}sectionDeselectHandler(e){e.target.contains(this)&&this.closeSearch()}onChange(){const e=`${this.dataset.routesUrl}?q=${encodeURIComponent(this.input.value.trim())}&resources[type]=product,collection,query&resources[limit]=4&resources[limit_scope]=each`;""!=this.input.value||this.input.value.length?(this.initialBlocks&&this.hideResultContainer(this.initialBlocks),this.activeResults&&this.showResultContainer(this.activeResults),this.fetchResults(e,"section-predictive-search")):(this.initialBlocks&&this.showResultContainer(this.initialBlocks),this.activeResults&&this.hideResultContainer(this.activeResults),this.loadingState&&this.showEl(this.loadingState),this.resetResults())}fetchResults(e,t){window.eight.sectionsEngine.sectionRenderingEngine.fetchSection(e,[t],[this.querySelector('[data-armada-selector="predictive-search-results"]')],['[data-armada-selector="predictive-search-results"]'],function(e){e&&(this.hideEl(this.loadingState),this.activeResults&&(["click","keypress"].forEach((e=>{const t=this.querySelector(".close-icon-results");t&&t.addEventListener(e,this.close.bind(this,this.activeResults))})),this.activeResults.classList.contains("h-0","opacity-0","overflow-hidden")&&this.showResultContainer(this.activeResults)))}.bind(this))}closeSearch(e){const t=document.querySelector('[data-armada-selector="header-cta-container"]'),s=document.querySelector(".header-mobile-search");this.closest("search-bar").contains(e?.target)||t.contains(e?.target)||s.contains(e?.target)||(this.closest("search-bar").classList.add("h-0","opacity-0","invisible"),this.closest("search-bar").classList.remove("animate-menu-up-open"))}openSearch(){const e=document.querySelector("search-bar"),t=document.querySelector('search-bar input[type="search"]'),s=document.querySelector('[data-armada-selector="predictive-search-results"]'),i=document.querySelector('[data-armada-selector="predictive-search-blocks"]');e&&t&&(e.classList.remove("h-0"),e.classList.remove("opacity-0"),e.classList.remove("invisible"),e.classList.add("animate-menu-up-open"),s&&t.value.length&&(s.classList.remove("hidden"),s.classList.add("grid")),i&&!t.value.length&&i.classList.remove("hidden"))}handleSearchClear(){this.initialBlocks&&this.initialBlocks.classList.remove("hidden"),this.loadingState&&this.showEl(this.loadingState),this.activeResults&&this.hideResultContainer(this.activeResults),this.resetResults()}populateResults(e,t){e&&t&&(t.innerHTML=e.innerHTML)}resetResults(){this.activeResults&&(this.activeResults.innerHTML=this.loadingStateHtml)}close(e){e&&this.input&&(e.classList.add("hidden"),this.closest("search-bar").classList.add("h-0","opacity-0","invisible"),this.closest("search-bar").classList.remove("animate-menu-up-open"))}hideResultContainer(e){e&&e.classList.add("hidden")}showResultContainer(e){e&&(e.classList.remove("hidden"),e==this.activeResults&&e.classList.add("grid"))}hideEl(e){e.classList.remove("flex"),e.classList.add("hidden")}showEl(e){e.classList.remove("hidden"),e.classList.add("flex")}}window.customElements.define("predictive-search",t)})()})();