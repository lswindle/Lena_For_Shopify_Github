(()=>{var t={845:t=>{self,t.exports=(()=>{"use strict";var t={};return((t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isArmadaLoaded=void 0,e.isArmadaLoaded=t=>{var e,a;const s=!0===(null===(a=null===(e=window.eight)||void 0===e?void 0:e.armada)||void 0===a?void 0:a.loaded);if(!t)return s;s?t():document.addEventListener("ARMADA:LOADED",t)},e.default=e.isArmadaLoaded})(0,t),t})()}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,a),r.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=a(845);class e extends HTMLElement{constructor(){super(),this.mainImageOverlay=this.querySelector("[data-armada-image-overlay]"),this.closeBtn=this.querySelector("[data-armada-close-btn]"),this.markerBtns=this.querySelectorAll("[data-armada-marker]"),this.desktopInfo=this.querySelector("[data-armada-desktop-layout]"),this.mobileInfo=this.querySelector("[data-armada-mobile-layout]"),this.stlCta=this.querySelector("[data-armada-stl-cta]"),this.desktopAction=this.querySelector("[data-armada-stl-action] a"),this.priceEl=this.querySelectorAll("[data-armada-item-price]"),this.imgElements=this.querySelectorAll("[data-armada-product-img]")}connectedCallback(){(0,t.isArmadaLoaded)(this.init.bind(this))}init(){this.setImageHeight(),this.handleMarkerClick(),window.eight.armada.elementRegistry.register({key:"shop-the-look",assetPath:"/assets/component-shop-the-look.min.js"}),window.addEventListener("resize",this.setImageHeight.bind(this)),window.addEventListener("shopify:block:select",this.handleBlockSelect.bind(this)),window.addEventListener("shopify:block:deselect",this.handleClose.bind(this))}setImageHeight(){const t=this.mainImageOverlay.offsetHeight;this.imgElements.forEach((e=>{e.style.height=`${t}px`,e.style.maxHeight=`${t}px`}))}handleMarkerClick(){this.closeBtn.addEventListener("click",this.handleClose.bind(this)),this.mobileInfo.addEventListener("click",this.handleClose.bind(this)),this.mainImageOverlay.addEventListener("click",this.handleClose.bind(this)),this.markerBtns.forEach((t=>{t.addEventListener("click",this.showProduct.bind(this,t))}))}showProduct(t){const e=t.getAttribute("data-armada-product-title"),a=t.getAttribute("data-armada-product-price"),s=t.getAttribute("data-armada-image-id"),i=t.getAttribute("data-armada-product-link"),r=t.getAttribute("data-armada-image-id"),o=this.querySelectorAll(`[data-armada-marker]:not([data-armada-image-id="${r}"])`);if(!e||!a)return;o.forEach((t=>{t.classList.remove("animate-radar"),t.querySelector("span").classList.remove("scale-150")})),r==s&&(t.classList.add("animate-radar"),t.querySelector("span").classList.add("scale-150")),this.stlCta.classList.remove("z-20"),this.stlCta.classList.add("opacity-0","z-0"),this.desktopAction.setAttribute("href",i),this.mobileInfo.querySelector("a").setAttribute("href",i),this.desktopInfo.querySelector("h4").innerText=e,this.desktopInfo.classList.remove("invisible","h-0"),this.desktopInfo.classList.add("grid"),this.desktopInfo.classList.add("z-20"),this.mobileInfo.querySelector("h4").innerText=e,this.mobileInfo.classList.remove("invisible","h-0"),this.mobileInfo.classList.add("md:invisible","md:h-0","z-20"),this.mobileInfo.classList.add("flex"),this.priceEl.forEach((t=>{t.innerText=a}));const d=this.querySelector(`[data-img-id="${s}"]`),l=this.querySelectorAll(`[data-armada-product-img]:not([data-img-id="${s}"])`);d.classList.remove("opacity-0","z-0"),d.classList.add("z-20","opacity-1"),l.forEach((t=>{t.classList.remove("z-20","opacity-1"),t.classList.add("opacity-0","z-0")}))}handleBlockSelect(t){const e=this.querySelector(`[data-stl-block-id="${t.detail.blockId}"]`);e&&this.showProduct(e)}handleClose(){this.stlCta.classList.add("z-20"),this.stlCta.classList.remove("opacity-0","z-0"),this.desktopInfo.classList.add("invisible","h-0"),this.mobileInfo.classList.remove("z-20"),this.mobileInfo.classList.add("invisible","h-0"),this.imgElements.forEach((t=>{t.classList.remove("z-20"),t.classList.remove("opacity-1"),t.classList.add("opacity-0")})),this.markerBtns.forEach((t=>{t.classList.remove("animate-radar"),t.querySelector("span").classList.remove("scale-150")})),this.closeBtn.removeEventListener("click",this.handleMarkerClick),this.mobileInfo.removeEventListener("click",this.handleMarkerClick)}}window.customElements.define("shop-the-look",e)})()})();